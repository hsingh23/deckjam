'use strict';
"use babel";

if (location.protocol != 'http:') {
  location.protocol = 'http:';
}
// if ('serviceWorker' in navigator) {
//   navigator.serviceWorker.register('service-worker.js');
// }
// removed service workers and fetch because quizlet does not do cors http://stackoverflow.com/a/34940074 
// no-cors mode won't send authorization header https://developer.mozilla.org/en-US/docs/Web/API/Request/mode
var lo = _;
// var app = angular.module('deckjam', ['ngMaterial'])
var app = angular.module('deckjam', ['ngMaterial', 'angulartics', 'angulartics.google.analytics']).config(function ($mdThemingProvider) {
  var customBlueMap = $mdThemingProvider.extendPalette('light-blue', {
    'contrastDefaultColor': 'light',
    'contrastDarkColors': ['50'],
    '50': 'ffffff'
  });
  $mdThemingProvider.definePalette('customBlue', customBlueMap);
  $mdThemingProvider.theme('default').primaryPalette('customBlue', {
    'default': '500',
    'hue-1': '50'
  }).accentPalette('pink');
  $mdThemingProvider.theme('input', 'default').primaryPalette('grey');
}).directive('iconText', function ($mdMedia) {
  return {
    restrict: 'E',
    scope: {
      tip: '@',
      icon: '@',
      style: '@?'
    },
    template: '<md-tooltip style="{{style}}" hide-gt-xs="hide-gt-xs">{{tip}}</md-tooltip><md-icon hide-gt-xs="hide-gt-xs" class="material-icons" style="{{style}}">{{icon}}</md-icon><span style="{{style}}" hide-xs>{{tip}}</span>'
  };
}).controller('homeContainer', ["$scope", "$http", "$mdToast", "$mdMedia", function (_, $http, $mdToast, $mdMedia) {
  _.api = 'http://ayudh.org:3337';
  _._sm = !$mdMedia('sm');
  _.sm = $mdMedia('sm');
  // _.api = 'http://localhost:3337'
  _.createdOne = localStorage.createdOne && parseInt(localStorage.createdOne) || 0;
  _.fetching = false;
  _.getSetsforTerm = function (term) {
    return $http.get(_.api + '/quizlet/search?query=' + term, { cache: true });
  };
  _.getSets = function (sets) {
    return $http.get(_.api + '/quizlet/sets?query=' + sets, { cache: true });
  };
  _.decks = {};
  // _.decks = JSON.parse(localStorage.decks || '{}')
  _.selected = JSON.parse(localStorage.selected || '{}');
  _.selectedOrder = "time";
  _.reverse = true;
  _.md = false;
  _.numSelected = function () {
    return lo.size(_.selected);
  };
  _.numDecks = function () {
    return lo.size(_.decks);
  };
  _.selectedArray = function () {
    return lo.values(_.selected);
  };
  _.selectTerm = function (term, setId) {
    var mouseDown = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

    term.selected = !!mouseDown ? !!!term.selected : !!term.selected;
    if (term.selected) {
      _.selected[term.id] = lo.assign({}, term);
      _.selected[term.id].setId = setId;
      _.selected[term.id].time = new Date().getTime();
    } else {
      delete _.selected[term.id];
    }
    localStorage.selected = JSON.stringify(_.selected);
  };
  _.removeDeck = function (id) {
    return delete _.decks[id];
  };
  _.selectAll = function (id) {
    if (_.decks[id]) {
      // some unselected, then select all
      if (_.decks[id].terms.find(function (x) {
        return !x.selected;
      })) {
        _.decks[id].terms.forEach(function (term) {
          term.selected = true;
          _.selected[term.id] = lo.assign({}, term);
          _.selected[term.id].setId = id;
          _.selected[term.id].time = new Date().getTime();
        });
      } else {
        // unselect everything
        _.decks[id].terms.forEach(function (term) {
          term.selected = false;
          delete _.selected[term.id];
        });
      }
      localStorage.selected = JSON.stringify(_.selected);
    }
  };
  _.clearSelected = function () {
    _.selected = {};
    localStorage.selected = '{}';
  };
  _.swapSelected = function (id) {
    var _$selected$id = _.selected[id],
        term = _$selected$id.term,
        definition = _$selected$id.definition;

    _.selected[id].definition = term;
    _.selected[id].term = definition;
    localStorage.selected = JSON.stringify(_.selected);
  };
  _.removeSelected = function (id) {
    var _$selected$id2 = _.selected[id],
        setId = _$selected$id2.setId,
        rank = _$selected$id2.rank;

    if (_.decks[setId]) {
      _.decks[setId].terms[rank].selected = false;
    }
    delete _.selected[id];
    localStorage.selected = JSON.stringify(_.selected);
  };
  _.create = function (title) {
    _.url = null;
    _.creating = true;
    $http({
      method: 'POST',
      url: _.api + '/create-set',
      data: JSON.stringify({
        title: title,
        lang_terms: 'en',
        lang_definitions: 'en',
        data: lo.map(_.selected, function (v, k) {
          return lo.pick(v, ['term', 'definition', 'image']);
        })
      })
    }).then(function (res) {
      _.url = 'https://quizlet.com' + res.data.url;
      _.creating = false;
      if (res.data.error) {
        $mdToast.showSimple(res.data.error);
      } else {
        $mdToast.showSimple("Your deck is created");
        _.createdOne += 1;
        localStorage.createdOne = _.createdOne;
      }
    }).catch(function () {
      _.creating = false;
      $mdToast.showSimple("Unable to create deck");
    });
  };
  _.import = function (importUrl) {
    _.fetching = true;
    var x = importUrl && importUrl.match(/\d+/);
    x && x[0] && _.getSets(x[0]).then(function (res) {
      _.fetching = false;
      res.data.forEach(function (set) {
        set.terms.forEach(function (term) {
          term.selected = true;
          _.selected[term.id] = lo.assign({}, term);
          _.selected[term.id].setId = set.id;
          _.selected[term.id].time = new Date().getTime();
        });
      });
    }).catch(function () {
      _.fetching = false;
    });
    localStorage.selected = JSON.stringify(_.selected);
  };
  _.getTerms = function (replace) {
    _.fetching = true;
    _.decks = !!replace ? {} : _.decks || {};
    _.bloom = !!replace ? new BloomFilter(3e5, 3e-5) : _.bloom || new BloomFilter(3e5, 3e-5);
    _.search.split(',').forEach(function (term) {
      _.getSetsforTerm(term.trim()).then(function (data) {
        _.getSets(data.data.sets.slice(0, 20).map(function (a) {
          return a.id;
        }).join(',')).then(function (res) {
          res.data.forEach(function (set) {
            var terms = lo.filter(set.terms, function (card) {
              if (_.bloom.test(card.term + card.definition)) {
                return false;
              } else {
                _.bloom.add(card.term + card.definition);
                return true;
              }
            });
            terms.forEach(function (t, i) {
              return t.rank = i;
            });
            if (terms.length > 2) {
              _.decks[set.id] = lo.pick(set, ['url', 'title', 'modified_date', 'lang_terms', 'lang_definitions']);
              _.decks[set.id].terms = terms;
              _.decks[set.id].terms_length = terms.length;
            }
          });
          _.fetching = false;
          _.selectedIndex = 0;
          // localStorage.decks = JSON.stringify(_.decks)
        }).catch(function () {
          _.fetching = false;
          $mdToast.showSimple("Unable to get terms - try another query");
        });
      }).catch(function () {
        _.fetching = false;
        $mdToast.showSimple("Unable to get terms - try another query");
      });
    });
  };
}]);

//# sourceMappingURL=data:application/json;base64,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YSxDQUFDLEtBQUQsRUFBUSxPQUFSLEVBQWlCLGVBQWpCLEVBQWtDLFlBQWxDLEVBQWdELGtCQUFoRCxDQUFiLENBQWxCO0FBQ0EsZ0JBQUUsS0FBRixDQUFRLElBQUksRUFBWixFQUFnQixLQUFoQixHQUF3QixLQUF4QjtBQUNBLGdCQUFFLEtBQUYsQ0FBUSxJQUFJLEVBQVosRUFBZ0IsWUFBaEIsR0FBK0IsTUFBTSxNQUFyQztBQUNEO0FBQ0YsV0FmRDtBQWdCQSxZQUFFLFFBQUYsR0FBYSxLQUFiO0FBQ0EsWUFBRSxhQUFGLEdBQWdCLENBQWhCO0FBQ0E7QUFDRCxTQXJCSCxFQXFCSyxLQXJCTCxDQXFCVyxZQUFJO0FBQ1gsWUFBRSxRQUFGLEdBQWEsS0FBYjtBQUNBLG1CQUFTLFVBQVQsQ0FBb0IseUNBQXBCO0FBQ0QsU0F4Qkg7QUF5QkMsT0ExQkgsRUEwQkssS0ExQkwsQ0EwQlcsWUFBSTtBQUNYLFVBQUUsUUFBRixHQUFhLEtBQWI7QUFDQSxpQkFBUyxVQUFULENBQW9CLHlDQUFwQjtBQUNELE9BN0JIO0FBOEJDLEtBL0JIO0FBZ0NDLEdBcENIO0FBcUNELENBcEo0QixDQTVCbkIsQ0FBViIsImZpbGUiOiJhcHAucHJvZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGJhYmVsXCI7XG5pZiAobG9jYXRpb24ucHJvdG9jb2wgIT0gJ2h0dHA6Jykge1xuICBsb2NhdGlvbi5wcm90b2NvbCA9ICdodHRwOic7XG59XG4vLyBpZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcikge1xuLy8gICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcignc2VydmljZS13b3JrZXIuanMnKTtcbi8vIH1cbi8vIHJlbW92ZWQgc2VydmljZSB3b3JrZXJzIGFuZCBmZXRjaCBiZWNhdXNlIHF1aXpsZXQgZG9lcyBub3QgZG8gY29ycyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zNDk0MDA3NCBcbi8vIG5vLWNvcnMgbW9kZSB3b24ndCBzZW5kIGF1dGhvcml6YXRpb24gaGVhZGVyIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9SZXF1ZXN0L21vZGVcbnZhciBsbyA9IF87XG4vLyB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2RlY2tqYW0nLCBbJ25nTWF0ZXJpYWwnXSlcbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnZGVja2phbScsIFsnbmdNYXRlcmlhbCcsICdhbmd1bGFydGljcycsICdhbmd1bGFydGljcy5nb29nbGUuYW5hbHl0aWNzJ10pXG4uY29uZmlnKGZ1bmN0aW9uKCRtZFRoZW1pbmdQcm92aWRlcikge1xuICB2YXIgY3VzdG9tQmx1ZU1hcCA9ICRtZFRoZW1pbmdQcm92aWRlci5leHRlbmRQYWxldHRlKCdsaWdodC1ibHVlJywge1xuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsXG4gICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6IFsnNTAnXSxcbiAgICAnNTAnOiAnZmZmZmZmJ1xuICB9KVxuICAkbWRUaGVtaW5nUHJvdmlkZXIuZGVmaW5lUGFsZXR0ZSgnY3VzdG9tQmx1ZScsIGN1c3RvbUJsdWVNYXApXG4gICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGVmYXVsdCcpXG4gICAgLnByaW1hcnlQYWxldHRlKCdjdXN0b21CbHVlJywge1xuICAgICAgJ2RlZmF1bHQnOiAnNTAwJyxcbiAgICAgICdodWUtMSc6ICc1MCdcbiAgICB9KVxuICAgIC5hY2NlbnRQYWxldHRlKCdwaW5rJylcbiAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdpbnB1dCcsICdkZWZhdWx0JylcbiAgICAucHJpbWFyeVBhbGV0dGUoJ2dyZXknKVxufSlcbi5kaXJlY3RpdmUoJ2ljb25UZXh0JywgZnVuY3Rpb24oJG1kTWVkaWEpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHNjb3BlOiB7XG4gICAgICB0aXA6ICdAJyxcbiAgICAgIGljb246ICdAJyxcbiAgICAgIHN0eWxlOiAnQD8nXG4gICAgfSxcbiAgICB0ZW1wbGF0ZTogJzxtZC10b29sdGlwIHN0eWxlPVwie3tzdHlsZX19XCIgaGlkZS1ndC14cz1cImhpZGUtZ3QteHNcIj57e3RpcH19PC9tZC10b29sdGlwPjxtZC1pY29uIGhpZGUtZ3QteHM9XCJoaWRlLWd0LXhzXCIgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiIHN0eWxlPVwie3tzdHlsZX19XCI+e3tpY29ufX08L21kLWljb24+PHNwYW4gc3R5bGU9XCJ7e3N0eWxlfX1cIiBoaWRlLXhzPnt7dGlwfX08L3NwYW4+J1xuICB9XG59KVxuLmNvbnRyb2xsZXIoJ2hvbWVDb250YWluZXInLCBbXCIkc2NvcGVcIiwgXCIkaHR0cFwiLCBcIiRtZFRvYXN0XCIsIFwiJG1kTWVkaWFcIiAsKF8sICRodHRwLCAkbWRUb2FzdCwgJG1kTWVkaWEpPT4ge1xuICBfLmFwaSA9ICdodHRwOi8vYXl1ZGgub3JnOjMzMzcnXG4gIF8uX3NtID0gISRtZE1lZGlhKCdzbScpXG4gIF8uc20gPSAkbWRNZWRpYSgnc20nKVxuICAvLyBfLmFwaSA9ICdodHRwOi8vbG9jYWxob3N0OjMzMzcnXG4gIF8uY3JlYXRlZE9uZSA9IGxvY2FsU3RvcmFnZS5jcmVhdGVkT25lICYmIHBhcnNlSW50KGxvY2FsU3RvcmFnZS5jcmVhdGVkT25lKSB8fCAwXG4gIF8uZmV0Y2hpbmcgPSBmYWxzZVxuICBfLmdldFNldHNmb3JUZXJtID0gKHRlcm0pPT4gJGh0dHAuZ2V0KGAke18uYXBpfS9xdWl6bGV0L3NlYXJjaD9xdWVyeT0ke3Rlcm19YCwgeyBjYWNoZTogdHJ1ZX0pXG4gIF8uZ2V0U2V0cyA9IChzZXRzKT0+ICRodHRwLmdldChgJHtfLmFwaX0vcXVpemxldC9zZXRzP3F1ZXJ5PSR7c2V0c31gLCB7IGNhY2hlOiB0cnVlfSlcbiAgXy5kZWNrcyA9IHt9XG4gIC8vIF8uZGVja3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5kZWNrcyB8fCAne30nKVxuICBfLnNlbGVjdGVkID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2Uuc2VsZWN0ZWQgfHwgJ3t9JylcbiAgXy5zZWxlY3RlZE9yZGVyID0gXCJ0aW1lXCJcbiAgXy5yZXZlcnNlID0gdHJ1ZVxuICBfLm1kID0gZmFsc2VcbiAgXy5udW1TZWxlY3RlZCA9ICgpPT4gbG8uc2l6ZShfLnNlbGVjdGVkKVxuICBfLm51bURlY2tzID0gKCk9PiBsby5zaXplKF8uZGVja3MpXG4gIF8uc2VsZWN0ZWRBcnJheSA9ICgpPT4gbG8udmFsdWVzKF8uc2VsZWN0ZWQpXG4gIF8uc2VsZWN0VGVybSA9ICh0ZXJtLCBzZXRJZCwgbW91c2VEb3duPXRydWUpID0+IHtcbiAgICB0ZXJtLnNlbGVjdGVkID0gKCEhbW91c2VEb3duKSA/ICEhIXRlcm0uc2VsZWN0ZWQgOiAhIXRlcm0uc2VsZWN0ZWRcbiAgICBpZiAodGVybS5zZWxlY3RlZCkge1xuICAgICAgXy5zZWxlY3RlZFt0ZXJtLmlkXSA9IGxvLmFzc2lnbih7fSx0ZXJtKVxuICAgICAgXy5zZWxlY3RlZFt0ZXJtLmlkXS5zZXRJZCA9IHNldElkXG4gICAgICBfLnNlbGVjdGVkW3Rlcm0uaWRdLnRpbWUgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSBfLnNlbGVjdGVkW3Rlcm0uaWRdXG4gICAgfVxuICAgIGxvY2FsU3RvcmFnZS5zZWxlY3RlZCA9IEpTT04uc3RyaW5naWZ5KF8uc2VsZWN0ZWQpXG4gIH1cbiAgXy5yZW1vdmVEZWNrID0gaWQ9PiBkZWxldGUgXy5kZWNrc1tpZF1cbiAgXy5zZWxlY3RBbGwgPSBpZD0+IHtcbiAgICBpZiAoXy5kZWNrc1tpZF0pIHtcbiAgICAgIC8vIHNvbWUgdW5zZWxlY3RlZCwgdGhlbiBzZWxlY3QgYWxsXG4gICAgICBpZiAoXy5kZWNrc1tpZF0udGVybXMuZmluZCh4PT4gIXguc2VsZWN0ZWQpKXtcbiAgICAgICAgXy5kZWNrc1tpZF0udGVybXMuZm9yRWFjaCh0ZXJtID0+IHtcbiAgICAgICAgICB0ZXJtLnNlbGVjdGVkID0gdHJ1ZVxuICAgICAgICAgIF8uc2VsZWN0ZWRbdGVybS5pZF0gPSBsby5hc3NpZ24oe30sdGVybSlcbiAgICAgICAgICBfLnNlbGVjdGVkW3Rlcm0uaWRdLnNldElkID0gaWRcbiAgICAgICAgICBfLnNlbGVjdGVkW3Rlcm0uaWRdLnRpbWUgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB1bnNlbGVjdCBldmVyeXRoaW5nXG4gICAgICAgIF8uZGVja3NbaWRdLnRlcm1zLmZvckVhY2godGVybSA9PiB7XG4gICAgICAgICAgdGVybS5zZWxlY3RlZCA9IGZhbHNlXG4gICAgICAgICAgZGVsZXRlIF8uc2VsZWN0ZWRbdGVybS5pZF1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGxvY2FsU3RvcmFnZS5zZWxlY3RlZCA9IEpTT04uc3RyaW5naWZ5KF8uc2VsZWN0ZWQpXG4gICAgfVxuICB9XG4gIF8uY2xlYXJTZWxlY3RlZCA9ICgpPT4ge1xuICAgIF8uc2VsZWN0ZWQgPSB7fVxuICAgIGxvY2FsU3RvcmFnZS5zZWxlY3RlZCA9ICd7fSdcbiAgfVxuICBfLnN3YXBTZWxlY3RlZCA9IGlkPT4ge1xuICAgIHZhciB7dGVybSwgZGVmaW5pdGlvbn0gPSBfLnNlbGVjdGVkW2lkXVxuICAgIF8uc2VsZWN0ZWRbaWRdLmRlZmluaXRpb24gPSB0ZXJtXG4gICAgXy5zZWxlY3RlZFtpZF0udGVybSA9IGRlZmluaXRpb25cbiAgICBsb2NhbFN0b3JhZ2Uuc2VsZWN0ZWQgPSBKU09OLnN0cmluZ2lmeShfLnNlbGVjdGVkKVxuICB9XG4gIF8ucmVtb3ZlU2VsZWN0ZWQgPSBpZD0+IHtcbiAgICB2YXIge3NldElkLCByYW5rfSA9IF8uc2VsZWN0ZWRbaWRdXG4gICAgaWYoXy5kZWNrc1tzZXRJZF0pIHtcbiAgICAgIF8uZGVja3Nbc2V0SWRdLnRlcm1zW3JhbmtdLnNlbGVjdGVkID0gZmFsc2VcbiAgICB9XG4gICAgZGVsZXRlIF8uc2VsZWN0ZWRbaWRdXG4gICAgbG9jYWxTdG9yYWdlLnNlbGVjdGVkID0gSlNPTi5zdHJpbmdpZnkoXy5zZWxlY3RlZClcbiAgfVxuICBfLmNyZWF0ZSA9ICh0aXRsZSk9PiB7XG4gICAgXy51cmwgPSBudWxsXG4gICAgXy5jcmVhdGluZyA9IHRydWVcbiAgICAkaHR0cCh7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIHVybDogYCR7Xy5hcGl9L2NyZWF0ZS1zZXRgLFxuICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgIGxhbmdfdGVybXM6ICdlbicsXG4gICAgICAgIGxhbmdfZGVmaW5pdGlvbnM6ICdlbicsXG4gICAgICAgIGRhdGE6IGxvLm1hcChfLnNlbGVjdGVkLCAodixrKT0+IGxvLnBpY2sodiwgWyd0ZXJtJywgJ2RlZmluaXRpb24nLCAnaW1hZ2UnXSkpXG4gICAgICB9KVxuICAgIH0pLnRoZW4ocmVzPT57XG4gICAgICBfLnVybCA9IGBodHRwczovL3F1aXpsZXQuY29tJHtyZXMuZGF0YS51cmx9YFxuICAgICAgXy5jcmVhdGluZyA9IGZhbHNlXG4gICAgICBpZiAocmVzLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgJG1kVG9hc3Quc2hvd1NpbXBsZShyZXMuZGF0YS5lcnJvcilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRtZFRvYXN0LnNob3dTaW1wbGUoXCJZb3VyIGRlY2sgaXMgY3JlYXRlZFwiKVxuICAgICAgICBfLmNyZWF0ZWRPbmUgKz0gMVxuICAgICAgICBsb2NhbFN0b3JhZ2UuY3JlYXRlZE9uZSA9IF8uY3JlYXRlZE9uZVxuICAgICAgfVxuICAgIH0pLmNhdGNoKCgpPT57XG4gICAgICBfLmNyZWF0aW5nPWZhbHNlXG4gICAgICAkbWRUb2FzdC5zaG93U2ltcGxlKFwiVW5hYmxlIHRvIGNyZWF0ZSBkZWNrXCIpXG4gICAgfSlcbiAgfVxuICBfLmltcG9ydCA9IChpbXBvcnRVcmwpID0+IHtcbiAgICBfLmZldGNoaW5nID0gdHJ1ZVxuICAgIHZhciB4ID0gaW1wb3J0VXJsICYmIGltcG9ydFVybC5tYXRjaCgvXFxkKy8pXG4gICAgeCAmJiB4WzBdICYmIF8uZ2V0U2V0cyh4WzBdKS50aGVuKHJlcz0+e1xuICAgICAgXy5mZXRjaGluZyA9IGZhbHNlXG4gICAgICByZXMuZGF0YS5mb3JFYWNoKHNldD0+IHtcbiAgICAgICAgc2V0LnRlcm1zLmZvckVhY2godGVybSA9PiB7XG4gICAgICAgICAgdGVybS5zZWxlY3RlZCA9IHRydWVcbiAgICAgICAgICBfLnNlbGVjdGVkW3Rlcm0uaWRdID0gbG8uYXNzaWduKHt9LHRlcm0pXG4gICAgICAgICAgXy5zZWxlY3RlZFt0ZXJtLmlkXS5zZXRJZCA9IHNldC5pZFxuICAgICAgICAgIF8uc2VsZWN0ZWRbdGVybS5pZF0udGltZSA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKClcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSkuY2F0Y2goKCk9PntfLmZldGNoaW5nID0gZmFsc2V9KVxuICAgIGxvY2FsU3RvcmFnZS5zZWxlY3RlZCA9IEpTT04uc3RyaW5naWZ5KF8uc2VsZWN0ZWQpXG4gIH1cbiAgXy5nZXRUZXJtcyA9IChyZXBsYWNlKT0+IHtcbiAgICBfLmZldGNoaW5nID0gdHJ1ZVxuICAgIF8uZGVja3MgPSAhIXJlcGxhY2UgPyB7fSA6IChfLmRlY2tzIHx8IHt9KVxuICAgIF8uYmxvb20gPSAhIXJlcGxhY2UgPyBuZXcgQmxvb21GaWx0ZXIoM2U1LCAzZS01KSA6IChfLmJsb29tIHx8IG5ldyBCbG9vbUZpbHRlcigzZTUsIDNlLTUpKVxuICAgIF8uc2VhcmNoLnNwbGl0KCcsJykuZm9yRWFjaCh0ZXJtPT4ge1xuICAgICAgXy5nZXRTZXRzZm9yVGVybSh0ZXJtLnRyaW0oKSkudGhlbihkYXRhPT4ge1xuICAgICAgICBfLmdldFNldHMoZGF0YS5kYXRhLnNldHMuc2xpY2UoMCwyMCkubWFwKGE9PmEuaWQpLmpvaW4oJywnKSlcbiAgICAgICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgcmVzLmRhdGEuZm9yRWFjaChzZXQ9PiB7XG4gICAgICAgICAgICAgIHZhciB0ZXJtcyA9IGxvLmZpbHRlcihzZXQudGVybXMsIGNhcmQ9PiB7XG4gICAgICAgICAgICAgICAgaWYgKF8uYmxvb20udGVzdChjYXJkLnRlcm0gKyBjYXJkLmRlZmluaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgXy5ibG9vbS5hZGQoY2FyZC50ZXJtICsgY2FyZC5kZWZpbml0aW9uKVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIHRlcm1zLmZvckVhY2goKHQsaSkgPT4gdC5yYW5rID0gaSlcbiAgICAgICAgICAgICAgaWYgKHRlcm1zLmxlbmd0aCA+IDIpe1xuICAgICAgICAgICAgICAgIF8uZGVja3Nbc2V0LmlkXSA9IGxvLnBpY2soc2V0LCBbJ3VybCcsICd0aXRsZScsICdtb2RpZmllZF9kYXRlJywgJ2xhbmdfdGVybXMnLCAnbGFuZ19kZWZpbml0aW9ucyddKVxuICAgICAgICAgICAgICAgIF8uZGVja3Nbc2V0LmlkXS50ZXJtcyA9IHRlcm1zXG4gICAgICAgICAgICAgICAgXy5kZWNrc1tzZXQuaWRdLnRlcm1zX2xlbmd0aCA9IHRlcm1zLmxlbmd0aFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgXy5mZXRjaGluZyA9IGZhbHNlXG4gICAgICAgICAgICBfLnNlbGVjdGVkSW5kZXg9MFxuICAgICAgICAgICAgLy8gbG9jYWxTdG9yYWdlLmRlY2tzID0gSlNPTi5zdHJpbmdpZnkoXy5kZWNrcylcbiAgICAgICAgICB9KS5jYXRjaCgoKT0+e1xuICAgICAgICAgICAgXy5mZXRjaGluZyA9IGZhbHNlXG4gICAgICAgICAgICAkbWRUb2FzdC5zaG93U2ltcGxlKFwiVW5hYmxlIHRvIGdldCB0ZXJtcyAtIHRyeSBhbm90aGVyIHF1ZXJ5XCIpXG4gICAgICAgICAgfSlcbiAgICAgICAgfSkuY2F0Y2goKCk9PntcbiAgICAgICAgICBfLmZldGNoaW5nID0gZmFsc2VcbiAgICAgICAgICAkbWRUb2FzdC5zaG93U2ltcGxlKFwiVW5hYmxlIHRvIGdldCB0ZXJtcyAtIHRyeSBhbm90aGVyIHF1ZXJ5XCIpXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH1cbn1dKVxuIl19